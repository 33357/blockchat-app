(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8a13cbd4"],{"063f":function(t,e,a){},2581:function(t,e,a){"use strict";var n=a("bf03"),s=a.n(n);s.a},"498a":function(t,e,a){"use strict";var n=a("23e7"),s=a("58a8").trim,c=a("c8d2");n({target:"String",proto:!0,forced:c("trim")},{trim:function(){return s(this)}})},"4d15":function(t,e,a){},"4de4":function(t,e,a){"use strict";var n=a("23e7"),s=a("b727").filter,c=a("1dde"),i=a("ae40"),r=c("filter"),o=i("filter");n({target:"Array",proto:!0,forced:!r||!o},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},5319:function(t,e,a){"use strict";var n=a("d784"),s=a("825a"),c=a("7b0b"),i=a("50c4"),r=a("a691"),o=a("1d80"),p=a("8aa5"),l=a("14c3"),u=Math.max,d=Math.min,h=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g,m=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,a,n){var f=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=n.REPLACE_KEEPS_$0,b=f?"$":"$0";return[function(a,n){var s=o(this),c=void 0==a?void 0:a[t];return void 0!==c?c.call(a,s,n):e.call(String(s),a,n)},function(t,n){if(!f&&y||"string"===typeof n&&-1===n.indexOf(b)){var c=a(e,t,this,n);if(c.done)return c.value}var o=s(t),h=String(this),v="function"===typeof n;v||(n=String(n));var g=o.global;if(g){var _=o.unicode;o.lastIndex=0}var O=[];while(1){var k=l(o,h);if(null===k)break;if(O.push(k),!g)break;var S=String(k[0]);""===S&&(o.lastIndex=p(h,i(o.lastIndex),_))}for(var x="",E=0,M=0;M<O.length;M++){k=O[M];for(var w=String(k[0]),C=u(d(r(k.index),h.length),0),A=[],T=1;T<k.length;T++)A.push(m(k[T]));var R=k.groups;if(v){var L=[w].concat(A,C,h);void 0!==R&&L.push(R);var $=String(n.apply(void 0,L))}else $=j(w,h,C,A,R,n);C>=E&&(x+=h.slice(E,C)+$,E=C+w.length)}return x+h.slice(E)}];function j(t,a,n,s,i,r){var o=n+t.length,p=s.length,l=g;return void 0!==i&&(i=c(i),l=v),e.call(r,l,(function(e,c){var r;switch(c.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,n);case"'":return a.slice(o);case"<":r=i[c.slice(1,-1)];break;default:var l=+c;if(0===l)return e;if(l>p){var u=h(l/10);return 0===u?e:u<=p?void 0===s[u-1]?c.charAt(1):s[u-1]+c.charAt(1):e}r=s[l-1]}return void 0===r?"":r}))}}))},"73f1":function(t,e,a){},"743d":function(t,e,a){"use strict";var n=a("063f"),s=a.n(n);s.a},"834e":function(t,e,a){},"883a":function(t,e,a){"use strict";var n=a("73f1"),s=a.n(n);s.a},"88af":function(t,e,a){"use strict";var n=a("4d15"),s=a.n(n);s.a},"9d16":function(t,e,a){},"9f78":function(t,e,a){"use strict";a.r(e);var n,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chat",style:{"--bg-image":"url('"+t.appStorage.background+"')"}},[t.visibleTool?a("div",{staticClass:"chat-part1"},[a("my-tool")],1):t._e(),a("div",{staticClass:"chat-part2"},[a("my-search"),a("my-room")],1),a("div",{staticClass:"chat-part3"},[a("a-icon",{staticClass:"chat-team",attrs:{type:"message"},on:{click:t.toggleDrawer}}),a("div",{staticClass:"chat-tool"},[t.visibleTool?a("a-icon",{attrs:{type:"menu-fold"},on:{click:t.toggleTool}}):a("a-icon",{attrs:{type:"menu-unfold"},on:{click:t.toggleTool}})],1),a("my-message")],1),a("a-drawer",{staticStyle:{height:"100%"},attrs:{placement:"left",closable:!1,visible:t.visibleDrawer},on:{close:t.toggleDrawer}},[a("div",{staticClass:"chat-drawer"},[a("my-search"),a("my-room")],1)])],1)},c=[],i=(a("99af"),a("96cf"),a("1da1")),r=a("d4ec"),o=a("bee2"),p=a("257e"),l=a("262e"),u=a("2caf"),d=a("ade3"),h=a("9ab4"),v=a("60a3"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tool"},[a("div",{staticClass:"tool-avatar"},[a("div",{staticClass:"tool-avatar-img",on:{click:function(e){t.showUserModal=!0}}},[t.appSync.avatarMap[t.appSync.userAddress]?a("img",{attrs:{src:t.appSync.avatarMap[t.appSync.userAddress],alt:""}}):t._e()]),a("div",{staticClass:"tool-avatar-name"},[t._v(t._s(t.appSync.userAddress))])]),a("myIcon",{staticClass:"icon tool-language",attrs:{type:"language"},on:{click:function(e){"cn"==t.$i18n.locale?t.$i18n.locale="en":t.$i18n.locale="cn"}}}),a("a-icon",{staticClass:"tool-skin icon",attrs:{type:"skin"},on:{click:function(e){t.showBackgroundModal=!0}}}),a("a",{staticClass:"tool-home icon",attrs:{href:"https://blockchat.space",target:"_blank"}},[a("a-icon",{attrs:{type:"home"}})],1),a("a-modal",{attrs:{title:t.$t("tool.user_info"),visible:t.showUserModal,footer:""},on:{cancel:function(e){t.showUserModal=!1}}},[a("div",{staticClass:"tool-user"},[t.appSync.avatarMap[t.appSync.userAddress]?a("div",{staticClass:"tool-user-avatar"},[a("a-avatar",{staticClass:"img",attrs:{src:t.appSync.avatarMap[t.appSync.userAddress],size:120}})],1):t._e(),a("div",{staticClass:"tool-user-info"},[a("div",{staticClass:"tool-user-title"},[t._v(t._s(t.$t("tool.user_address")))]),a("div",{staticClass:"tool-user-input"},[t._v(t._s(t.appSync.userAddress))])])])]),a("a-modal",{attrs:{title:t.$t("tool.theme"),visible:t.showBackgroundModal,footer:""},on:{cancel:function(e){t.showBackgroundModal=!1}}},[a("div",{staticClass:"tool-user-info"},[a("div",{staticClass:"tool-user-title",staticStyle:{width:"65px"}},[a("span",[t._v(t._s(t.$t("tool.background_image")))]),a("a-tooltip",{attrs:{placement:"topLeft","arrow-point-at-center":""}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("span",[t._v(t._s(t.$t("tool.support_jpg_png_gif_and_other_formats")))])]),a("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"exclamation-circle"}})],1)],1),a("a-input",{staticClass:"tool-user-input",attrs:{placeholder:t.$t("tool.please_enter_the_background_image_url")},model:{value:t.backgroundInput,callback:function(e){t.backgroundInput=e},expression:"backgroundInput"}}),a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.changeBackground(t.backgroundInput)}}},[t._v(t._s(t.$t("tool.confirm")))])],1),a("div",{staticClass:"tool-recommend"},t._l(t.COMMON.BACKGROUND_LIST,(function(e,n){return a("div",{key:n,staticClass:"recommend",on:{click:function(a){return t.changeBackground(e.URL)}}},[a("img",{attrs:{src:e.URL,alt:""}}),a("span",{staticClass:"text"},[t._v(t._s(e.TEXT))])])})),0)])],1)},m=[],f=(a("498a"),a("4bb5")),y=a("3fff"),b=Object(f["a"])("app"),j=(n=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;Object(r["a"])(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return t=e.call.apply(e,[this].concat(s)),Object(d["a"])(Object(p["a"])(t),"appStorage",void 0),Object(d["a"])(Object(p["a"])(t),"appSync",void 0),Object(d["a"])(Object(p["a"])(t),"showUserModal",!1),Object(d["a"])(Object(p["a"])(t),"showBackgroundModal",!1),Object(d["a"])(Object(p["a"])(t),"showShovelModal",!1),Object(d["a"])(Object(p["a"])(t),"showCrowdFundingModal",!1),Object(d["a"])(Object(p["a"])(t),"backgroundInput",""),Object(d["a"])(Object(p["a"])(t),"COMMON",y["b"]),t}return Object(o["a"])(a,[{key:"changeBackground",value:function(t){t.trim().length&&(this.appStorage.background=t),this.showBackgroundModal=!1}}]),a}(v["c"]),n);Object(h["a"])([b.State("storage")],j.prototype,"appStorage",void 0),Object(h["a"])([b.State("sync")],j.prototype,"appSync",void 0),j=Object(h["a"])([Object(v["a"])({})],j);var _,O=j,k=O,S=(a("a3d5"),a("2877")),x=Object(S["a"])(k,g,m,!1,null,"1bfccbf8",null),E=x.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"room"},t._l(t.recipientTextList,(function(e,n){return a("div",{key:n},[a("div",{staticClass:"room-card",class:{active:t.appStorage.activeRecipientText==e},on:{click:function(a){return t.setActiveRecipient(e)}}},[a("a-badge",{staticClass:"room-card-badge"}),a("my-avatar",{attrs:{avatar:t.appSync.avatarMap[t.chatAsync.recipientMap[e].recipientHash],showButton:!1,showName:t.utils.format.string2(e,7)}}),a("div",{staticClass:"room-card-message"},[a("div",{staticClass:"room-card-name"},[a("div",[t._v(" "+t._s(t.utils.format.string2(e,7))+" "),t.recipientTextList.length>1?a("a-icon",{staticClass:"room-card-close",attrs:{type:"close-circle-o"},on:{click:function(a){return a.stopPropagation(),t.closeRecipient(e)}}}):t._e()],1),a("div",{staticClass:"room-card-new"},[t._v(" "+t._s(t.get_room_card_new_text(e))+" ")])])])],1)])})),0)},w=[],C=(a("4de4"),a("d3b7"),a("25f0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"avatar"},[a("a-popover",[a("div",{staticClass:"avatar-card",attrs:{slot:"content"},slot:"content"},[a("a-avatar",{attrs:{size:60,src:t.avatar}}),a("div",[t._v(t._s(t.showName))]),t.showButton?a("a-button",{attrs:{type:"primary",disabled:t.disabled},on:{click:function(e){return t.$emit("goTo")}}},[t._v(t._s(t.$t("avatar.view_on_the_blockchain_browser")))]):t._e()],1),a("a-avatar",{staticClass:"avatar-img",attrs:{src:t.avatar}})],1),a("div",[a("span",{staticClass:"avatar-name"},[t._v(t._s(t.name))]),a("span",{staticClass:"avatar-time"},[t._v(t._s(t.time))])])],1)}),A=[],T=(_=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;Object(r["a"])(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return t=e.call.apply(e,[this].concat(s)),Object(d["a"])(Object(p["a"])(t),"avatar",void 0),Object(d["a"])(Object(p["a"])(t),"name",void 0),Object(d["a"])(Object(p["a"])(t),"time",void 0),Object(d["a"])(Object(p["a"])(t),"showName",void 0),Object(d["a"])(Object(p["a"])(t),"disabled",void 0),Object(d["a"])(Object(p["a"])(t),"showButton",void 0),t}return a}(v["c"]),_);Object(h["a"])([Object(v["b"])()],T.prototype,"avatar",void 0),Object(h["a"])([Object(v["b"])()],T.prototype,"name",void 0),Object(h["a"])([Object(v["b"])()],T.prototype,"time",void 0),Object(h["a"])([Object(v["b"])()],T.prototype,"showName",void 0),Object(h["a"])([Object(v["b"])({default:!1})],T.prototype,"disabled",void 0),Object(h["a"])([Object(v["b"])({default:!0})],T.prototype,"showButton",void 0),T=Object(h["a"])([v["a"]],T);var R,L=T,$=L,D=(a("a76c"),Object(S["a"])($,C,A,!1,null,"b3be75a4",null)),B=D.exports,I=Object(f["a"])("chat"),U=Object(f["a"])("app"),N=(R=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;Object(r["a"])(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return t=e.call.apply(e,[this].concat(s)),Object(d["a"])(Object(p["a"])(t),"appStorage",void 0),Object(d["a"])(Object(p["a"])(t),"appSync",void 0),Object(d["a"])(Object(p["a"])(t),"appAsync",void 0),Object(d["a"])(Object(p["a"])(t),"chatSync",void 0),Object(d["a"])(Object(p["a"])(t),"chatAsync",void 0),Object(d["a"])(Object(p["a"])(t),"recipientTextList",[]),Object(d["a"])(Object(p["a"])(t),"utils",y["g"]),t}return Object(o["a"])(a,[{key:"get_room_card_new_text",value:function(t){try{var e=y["g"].get.last(this.chatAsync.messageCreatedEventListMap[t][y["g"].get.last(this.chatAsync.recipientMap[t].messageBlockList)]);return"[".concat(y["g"].format.string2(e.sender,4),"]").concat(y["g"].format.string1(y["e"].getType(e.content,this).text,7))}catch(a){return""}}},{key:"changeRecipientMap",value:function(){this.setRecipient()}},{key:"changeMessageCreatedEventMap",value:function(){this.setRecipient()}},{key:"setRecipient",value:function(){var t=this,e=this.appStorage.recipientTextList.filter((function(e){return y["g"].have.value(t.chatAsync.recipientMap[e])}));e.length>=2&&(e=e.sort((function(e,a){var n,s;try{n=y["g"].get.last(t.chatAsync.messageCreatedEventListMap[e][y["g"].get.last(t.chatAsync.recipientMap[e].messageBlockList)])}catch(c){}try{s=y["g"].get.last(t.chatAsync.messageCreatedEventListMap[a][y["g"].get.last(t.chatAsync.recipientMap[a].messageBlockList)])}catch(c){}return n&&s?n.createDate-s.createDate:n?-1:1}))),this.recipientTextList.toString()!=e.toString()&&(this.recipientTextList=e)}},{key:"closeRecipient",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("chat/deleteRecipient",e);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"setActiveRecipient",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("chat/setActiveRecipient",e);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),a}(v["c"]),R);Object(h["a"])([U.State("storage")],N.prototype,"appStorage",void 0),Object(h["a"])([U.State("sync")],N.prototype,"appSync",void 0),Object(h["a"])([U.State("async")],N.prototype,"appAsync",void 0),Object(h["a"])([U.State("sync")],N.prototype,"chatSync",void 0),Object(h["a"])([I.State("async")],N.prototype,"chatAsync",void 0),Object(h["a"])([Object(v["d"])("chatAsync.recipientMap",{deep:!0})],N.prototype,"changeRecipientMap",null),Object(h["a"])([Object(v["d"])("chatAsync.messageCreatedEventListMap",{deep:!0})],N.prototype,"changeMessageCreatedEventMap",null),N=Object(h["a"])([Object(v["a"])({components:{MyAvatar:B}})],N);var P=N,H=P,K=(a("2581"),Object(S["a"])(H,M,w,!1,null,"5150d10e",null)),F=K.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message"},[a("div",{staticClass:"message-header"},[a("div",{staticClass:"message-header-box"},[a("span",{staticClass:"message-header-text"},[t._v(" "+t._s(t.get_message_header_text())+" ")]),t.get_lock().show?a("myIcon",{class:t.get_lock().class,attrs:{type:t.get_lock().type},on:{click:function(e){return t.clickChatEncrypt()}}}):t._e()],1)]),a("transition",{attrs:{name:"loading"}},[t.get_loading()?a("div",{staticClass:"message-loading"},[a("a-icon",{staticClass:"message-loading-icon",attrs:{type:"sync",spin:""}})],1):t._e()]),a("div",{staticClass:"message-main",style:{opacity:t.messageOpacity}},[a("div",{staticClass:"message-content"},[a("transition",{attrs:{name:"noData"}},[a("div",{staticClass:"message-content-noData"},[t._v(" "+t._s(t.get_noData_text())+" ")])]),t._l(t.messageList,(function(e,n){return[a("div",{key:n,staticClass:"message-content-message",class:{"text-right":e.sender==t.appSync.userAddress}},[a("my-avatar",{attrs:{avatar:t.appSync.avatarMap[e.sender],name:t.get_name(e),time:t.utils.format.date(e.createDate),showName:t.utils.format.string2(e.sender,6)},on:{goTo:function(a){return t.utils.go.address(t.appSync.ether.chainId,e.sender)}}}),"status"in e?a("a-popover",{staticStyle:{display:"inline-block"}},[a("div",{staticClass:"avatar-card",attrs:{slot:"content"},slot:"content"},[a("a-icon",{class:t.get_avatar_card(e).class,attrs:{type:t.get_avatar_card(e).type}}),a("div",[t._v(t._s(t.get_avatar_card(e).text))]),a("a-button",{attrs:{type:"primary",disabled:!e.hash},on:{click:function(a){return t.utils.go.tx(t.appSync.ether.chainId,e.hash)}}},[t._v(t._s(t.$t("message.view_on_the_blockchain_browser")))])],1),a("a-icon",{class:t.get_avatar_card(e).class,attrs:{type:t.get_avatar_card(e).type}})],1):t._e(),t.show_swap(e,n)&&e.sender==t.appSync.userAddress?a("a-icon",{attrs:{type:"swap"},on:{click:function(a){return t.changeContent(e,n)}}}):t._e(),e.sender==t.appSync.userAddress?a("a-icon",{attrs:{type:"history"},on:{click:function(a){return t.utils.go.tx(t.appSync.ether.chainId,e.hash)}}}):t._e(),a("div",{staticClass:"message-content-text"},["url"==t.get_message(e,n).type?a("a",{attrs:{href:t.get_message(e,n).href,target:"_blank"}},[t._v(t._s(t.get_message(e,n).text)+" ")]):t._e(),"text"==t.get_message(e,n).type?a("div",[t._v(t._s(t.get_message(e,n).text))]):t._e(),"retext"==t.get_message(e,n).type?a("div",[t._v(t._s(t.get_message(e,n).text))]):t._e(),"transaction"==t.get_message(e,n).type?a("a-button",{on:{click:function(a){t.sendTransaction(t.get_message(e,n).transaction)}}},[t._v(" "+t._s(t.get_message(e,n).text)+" ")]):t._e(),"call"==t.get_message(e,n).type?a("a-button",{on:{click:function(a){t.call(t.get_message(e,n).transaction,n)}}},[t._v(" "+t._s(t.get_message(e,n).text)+" ")]):t._e(),"encrypt"==t.get_message(e,n).type?a("a-button",{on:{click:function(a){return t.decryptContent(e,n)}}},[t._v(" "+t._s(t.get_message(e,n).text)+" ")]):t._e(),"image"==t.get_message(e,n).type?a("img",{attrs:{src:t.get_message(e,n).src,alt:t.get_message(e,n).alt,height:"200rpx"}}):t._e(),"video"==t.get_message(e,n).type?a("video",{attrs:{controls:"",height:"200rpx",src:t.get_message(e,n).src}}):t._e(),"audio"==t.get_message(e,n).type?a("audio",{attrs:{controls:"",src:t.get_message(e,n).src}}):t._e()],1),e.sender!=t.appSync.userAddress?a("a-icon",{attrs:{type:"history"},on:{click:function(a){return t.utils.go.tx(t.appSync.ether.chainId,e.hash)}}}):t._e(),t.show_swap(e,n)&&e.sender!=t.appSync.userAddress?a("a-icon",{attrs:{type:"swap"},on:{click:function(a){return t.changeContent(e,n)}}}):t._e()],1)]}))],2)]),a("my-input")],1)},V=[],q=(a("4160"),a("c975"),a("b680"),a("b64b"),a("ac1f"),a("5319"),a("1276"),a("159b"),a("2909")),G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-input"},[a("a-popover",{staticClass:"message-popver",attrs:{placement:"topLeft",trigger:"hover"}},[a("template",{slot:"content"},[a("a-tabs",{attrs:{"default-key":"1",size:"small"}},[a("a-tab-pane",{key:"1",attrs:{tab:"Emoji"}},[a("my-emoji",{on:{addEmoji:t.addEmoji}})],1)],1)],1),a("div",{staticClass:"messagte-tool-icon"},[t._v("😃")])],2),a("a-input",{ref:"messageInput",staticStyle:{color:"#000"},attrs:{autocomplete:"off",type:"text",placeholder:t.$t("input.hello")+"...",autoFocus:""},on:{pressEnter:t.sendMessage},model:{value:t.messageInput,callback:function(e){t.messageInput=e},expression:"messageInput"}}),a("myIcon",{class:t.get_send(),attrs:{type:"send"},on:{click:t.sendMessage}})],1)},J=[],X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"emoji-content"},[a("div",{staticClass:"emoji-content-item"},[a("span",{on:{click:function(e){return t.addEmoji("😃")}}},[t._v("😃")]),a("span",{on:{click:function(e){return t.addEmoji("😁")}}},[t._v("😁")]),a("span",{on:{click:function(e){return t.addEmoji("😂")}}},[t._v("😂")]),a("span",{on:{click:function(e){return t.addEmoji("😄")}}},[t._v("😄")]),a("span",{on:{click:function(e){return t.addEmoji("😅")}}},[t._v("😅")]),a("span",{on:{click:function(e){return t.addEmoji("😆")}}},[t._v("😆")]),a("span",{on:{click:function(e){return t.addEmoji("😇")}}},[t._v("😇")]),a("span",{on:{click:function(e){return t.addEmoji("😈")}}},[t._v("😈")]),a("span",{on:{click:function(e){return t.addEmoji("😉")}}},[t._v("😉")])]),a("div",{staticClass:"emoji-content-item"},[a("span",{on:{click:function(e){return t.addEmoji("😊")}}},[t._v("😊")]),a("span",{on:{click:function(e){return t.addEmoji("😋")}}},[t._v("😋")]),a("span",{on:{click:function(e){return t.addEmoji("😌")}}},[t._v("😌")]),a("span",{on:{click:function(e){return t.addEmoji("😍")}}},[t._v("😍")]),a("span",{on:{click:function(e){return t.addEmoji("😎")}}},[t._v("😎")]),a("span",{on:{click:function(e){return t.addEmoji("😏")}}},[t._v("😏")]),a("span",{on:{click:function(e){return t.addEmoji("😐")}}},[t._v("😐")]),a("span",{on:{click:function(e){return t.addEmoji("😒")}}},[t._v("😒")]),a("span",{on:{click:function(e){return t.addEmoji("😓")}}},[t._v("😓")])]),a("div",{staticClass:"emoji-content-item"},[a("span",{on:{click:function(e){return t.addEmoji("❓")}}},[t._v("❓")]),a("span",{on:{click:function(e){return t.addEmoji("😕")}}},[t._v("😕")]),a("span",{on:{click:function(e){return t.addEmoji("😖")}}},[t._v("😖")]),a("span",{on:{click:function(e){return t.addEmoji("😗")}}},[t._v("😗")]),a("span",{on:{click:function(e){return t.addEmoji("😘")}}},[t._v("😘")]),a("span",{on:{click:function(e){return t.addEmoji("😙")}}},[t._v("😙")]),a("span",{on:{click:function(e){return t.addEmoji("😚")}}},[t._v("😚")]),a("span",{on:{click:function(e){return t.addEmoji("😜")}}},[t._v("😜")]),a("span",{on:{click:function(e){return t.addEmoji("😝")}}},[t._v("😝")])]),a("div",{staticClass:"emoji-content-item"},[a("span",{on:{click:function(e){return t.addEmoji("😞")}}},[t._v("😞")]),a("span",{on:{click:function(e){return t.addEmoji("😟")}}},[t._v("😟")]),a("span",{on:{click:function(e){return t.addEmoji("😠")}}},[t._v("😠")]),a("span",{on:{click:function(e){return t.addEmoji("😡")}}},[t._v("😡")]),a("span",{on:{click:function(e){return t.addEmoji("😢")}}},[t._v("😢")]),a("span",{on:{click:function(e){return t.addEmoji("😣")}}},[t._v("😣")]),a("span",{on:{click:function(e){return t.addEmoji("😤")}}},[t._v("😤")]),a("span",{on:{click:function(e){return t.addEmoji("😥")}}},[t._v("😥")]),a("span",{on:{click:function(e){return t.addEmoji("😦")}}},[t._v("😦")])]),a("div",{staticClass:"emoji-content-item"},[a("span",{on:{click:function(e){return t.addEmoji("😨")}}},[t._v("😨")]),a("span",{on:{click:function(e){return t.addEmoji("😩")}}},[t._v("😩")]),a("span",{on:{click:function(e){return t.addEmoji("😪")}}},[t._v("😪")]),a("span",{on:{click:function(e){return t.addEmoji("😫")}}},[t._v("😫")]),a("span",{on:{click:function(e){return t.addEmoji("😬")}}},[t._v("😬")]),a("span",{on:{click:function(e){return t.addEmoji("😭")}}},[t._v("😭")]),a("span",{on:{click:function(e){return t.addEmoji("😮")}}},[t._v("😮")]),a("span",{on:{click:function(e){return t.addEmoji("😯")}}},[t._v("😯")]),a("span",{on:{click:function(e){return t.addEmoji("😰")}}},[t._v("😰")])]),a("div",{staticClass:"emoji-content-item"},[a("span",{on:{click:function(e){return t.addEmoji("😲")}}},[t._v("😲")]),a("span",{on:{click:function(e){return t.addEmoji("😳")}}},[t._v("😳")]),a("span",{on:{click:function(e){return t.addEmoji("😴")}}},[t._v("😴")]),a("span",{on:{click:function(e){return t.addEmoji("😵")}}},[t._v("😵")]),a("span",{on:{click:function(e){return t.addEmoji("🧐")}}},[t._v("🧐")]),a("span",{on:{click:function(e){return t.addEmoji("😷")}}},[t._v("😷")]),a("span",{on:{click:function(e){return t.addEmoji("🙁")}}},[t._v("🙁")]),a("span",{on:{click:function(e){return t.addEmoji("🙂")}}},[t._v("🙂")]),a("span",{on:{click:function(e){return t.addEmoji("🙃")}}},[t._v("🙃")])]),a("div",{staticClass:"emoji-content-item"},[a("span",{on:{click:function(e){return t.addEmoji("🤐")}}},[t._v("🤐")]),a("span",{on:{click:function(e){return t.addEmoji("🤑")}}},[t._v("🤑")]),a("span",{on:{click:function(e){return t.addEmoji("🤒")}}},[t._v("🤒")]),a("span",{on:{click:function(e){return t.addEmoji("🤓")}}},[t._v("🤓")]),a("span",{on:{click:function(e){return t.addEmoji("🤔")}}},[t._v("🤔")]),a("span",{on:{click:function(e){return t.addEmoji("🤕")}}},[t._v("🤕")]),a("span",{on:{click:function(e){return t.addEmoji("🤠")}}},[t._v("🤠")]),a("span",{on:{click:function(e){return t.addEmoji("🤡")}}},[t._v("🤡")]),a("span",{on:{click:function(e){return t.addEmoji("🤢")}}},[t._v("🤢")])]),a("div",{staticClass:"emoji-content-item"},[a("span",{on:{click:function(e){return t.addEmoji("🤤")}}},[t._v("🤤")]),a("span",{on:{click:function(e){return t.addEmoji("🤥")}}},[t._v("🤥")]),a("span",{on:{click:function(e){return t.addEmoji("🤧")}}},[t._v("🤧")]),a("span",{on:{click:function(e){return t.addEmoji("🤨")}}},[t._v("🤨")]),a("span",{on:{click:function(e){return t.addEmoji("🤩")}}},[t._v("🤩")]),a("span",{on:{click:function(e){return t.addEmoji("🤪")}}},[t._v("🤪")]),a("span",{on:{click:function(e){return t.addEmoji("🤫")}}},[t._v("🤫")]),a("span",{on:{click:function(e){return t.addEmoji("🤬")}}},[t._v("🤬")]),a("span",{on:{click:function(e){return t.addEmoji("🤭")}}},[t._v("🤭")])])])},Z=[],Q=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(r["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"addEmoji",value:function(t){this.$emit("addEmoji",t)}}]),a}(v["c"]);Q=Object(h["a"])([v["a"]],Q);var W,Y=Q,tt=Y,et=(a("743d"),Object(S["a"])(tt,X,Z,!1,null,"0bf690e2",null)),at=et.exports,nt=Object(f["a"])("chat"),st=Object(f["a"])("app"),ct=(W=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;Object(r["a"])(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return t=e.call.apply(e,[this].concat(s)),Object(d["a"])(Object(p["a"])(t),"appStorage",void 0),Object(d["a"])(Object(p["a"])(t),"appSync",void 0),Object(d["a"])(Object(p["a"])(t),"appAsync",void 0),Object(d["a"])(Object(p["a"])(t),"chatSync",void 0),Object(d["a"])(Object(p["a"])(t),"chatAsync",void 0),Object(d["a"])(Object(p["a"])(t),"messageInput",""),t}return Object(o["a"])(a,[{key:"get_send",value:function(){if(y["g"].have.value(this.chatAsync.recipientMap[this.appStorage.activeRecipientText]))return this.chatAsync.recipientMap[this.appStorage.activeRecipientText].useEncrypt?"message-input-button2":"message-input-button1"}},{key:"sendMessage",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.messageInput.trim()){t.next=3;break}throw new Error(this.$t("input.cannot_send_empty_messages"));case 3:return e=this.messageInput,this.messageInput="",t.next=7,this.$store.dispatch("chat/sendMessage",e);case 7:t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),Object(y["d"])(t.t0),this.$message.error(t.t0.message);case 13:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"addEmoji",value:function(t){var e=this.$refs.messageInput.$el;if(e.selectionStart||"0"===e.selectionStart){var a=e.selectionStart,n=e.selectionEnd,s=e.scrollTop;this.messageInput=this.messageInput.substring(0,a)+t+this.messageInput.substring(n,this.messageInput.length),s>0&&(e.scrollTop=s),e.focus();var c=a+t.length;if(e.setSelectionRange)e.focus(),setTimeout((function(){e.setSelectionRange(c,c)}),10);else if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveEnd("character",c),i.moveStart("character",c),i.select()}}else this.messageInput+=t,e.focus()}}]),a}(v["c"]),W);Object(h["a"])([st.State("storage")],ct.prototype,"appStorage",void 0),Object(h["a"])([st.State("sync")],ct.prototype,"appSync",void 0),Object(h["a"])([st.State("async")],ct.prototype,"appAsync",void 0),Object(h["a"])([nt.State("sync")],ct.prototype,"chatSync",void 0),Object(h["a"])([nt.State("async")],ct.prototype,"chatAsync",void 0),ct=Object(h["a"])([Object(v["a"])({components:{MyEmoji:at}})],ct);var it,rt,ot=ct,pt=ot,lt=(a("9fcf"),Object(S["a"])(pt,G,J,!1,null,"3713e1f6",null)),ut=lt.exports,dt=a("0613"),ht=Object(f["a"])("chat"),vt=Object(f["a"])("app");(function(t){t[t["loading"]=0]="loading",t[t["geting"]=1]="geting",t[t["listening"]=2]="listening"})(rt||(rt={}));var gt=(it=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;Object(r["a"])(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return t=e.call.apply(e,[this].concat(s)),Object(d["a"])(Object(p["a"])(t),"appStorage",void 0),Object(d["a"])(Object(p["a"])(t),"appSync",void 0),Object(d["a"])(Object(p["a"])(t),"appAsync",void 0),Object(d["a"])(Object(p["a"])(t),"chatSync",void 0),Object(d["a"])(Object(p["a"])(t),"chatAsync",void 0),Object(d["a"])(Object(p["a"])(t),"utils",y["g"]),Object(d["a"])(Object(p["a"])(t),"messageDom",void 0),Object(d["a"])(Object(p["a"])(t),"messageContentDom",void 0),Object(d["a"])(Object(p["a"])(t),"headerDom",void 0),Object(d["a"])(Object(p["a"])(t),"messageOpacity",1),Object(d["a"])(Object(p["a"])(t),"lastMessagePosition",0),Object(d["a"])(Object(p["a"])(t),"status",rt.loading),Object(d["a"])(Object(p["a"])(t),"messageList",[]),Object(d["a"])(Object(p["a"])(t),"reloadMessage",{}),Object(d["a"])(Object(p["a"])(t),"encryptContent",{}),t}return Object(o["a"])(a,[{key:"show_swap",value:function(t,e){return"text"!=y["e"].getType(this.get_message_content(t,e),this).type}},{key:"get_lock",value:function(){if(y["g"].have.value(this.chatAsync.recipientMap[this.appStorage.activeRecipientText]))if(0==this.chatAsync.recipientMap[this.appStorage.activeRecipientText].useEncrypt){if(this.chatAsync.dataUploadedEventMap[this.appStorage.activeRecipientText+"publicKey"])return{show:!0,type:"unlock",class:"message-header-icon-blue"};if(this.appStorage.activeRecipientText==this.appSync.userAddress)return{show:!0,type:"unlock",class:"message-header-icon-white-blue"}}else if(1==this.chatAsync.recipientMap[this.appStorage.activeRecipientText].useEncrypt)return{show:!0,type:"lock",class:"message-header-icon-red"};return{show:!1,type:"",class:""}}},{key:"get_message_content",value:function(t,e){return this.encryptContent[e]?this.encryptContent[e]:t.content}},{key:"get_message",value:function(t,e){return this.reloadMessage[e]?this.reloadMessage[e]:y["e"].getType(this.get_message_content(t,e),this)}},{key:"get_name",value:function(t){return this.appAsync.USD_Value_Map[t.sender]&&0!=this.appAsync.USD_Value_Map[t.sender]?this.appAsync.USD_Value_Map[t.sender].toFixed(2)+" USD":y["g"].format.string2(t.sender,6)}},{key:"get_loading",value:function(){return this.status==rt.loading||this.status==rt.geting}},{key:"get_message_header_text",value:function(){var t=this;try{var e=0;return Object.keys(this.chatAsync.messageCreatedEventListMap[this.appStorage.activeRecipientText]).forEach((function(a){e+=t.chatAsync.messageCreatedEventListMap[t.appStorage.activeRecipientText][parseInt(a)].length})),"".concat(this.appStorage.activeRecipientText," 消息：").concat(e," ")}catch(a){return""}}},{key:"get_noData_text",value:function(){try{return this.chatAsync.recipientMap[this.appStorage.activeRecipientText].messageBlockListLength==this.chatAsync.recipientMap[this.appStorage.activeRecipientText].messageBlockList.length&&this.chatAsync.recipientMap[this.appStorage.activeRecipientText].messageBlockList.length==Object.keys(this.chatAsync.messageCreatedEventListMap[this.appStorage.activeRecipientText]).length?this.$t("message.no_more_message"):""}catch(t){return""}}},{key:"get_avatar_card",value:function(t){return t.status==dt["a"].prePending?{type:"loading",class:"loading1-icon",text:this.$t("message.not_send")}:t.status==dt["a"].pending?{type:"loading",class:"loading2-icon",text:""==t.hash?y["g"].format.string2(t.hash,6):""}:t.status==dt["a"].error?{type:"exclamation-circle",class:"error-icon",text:""==t.hash?y["g"].format.string2(t.hash,6):""}:t.status==dt["a"].success?{type:"check-circle",class:"check-icon",text:""==t.hash?y["g"].format.string2(t.hash,6):""}:void 0}},{key:"changeMessageCreatedEventListMap",value:function(){this.setMessageList()}},{key:"changeRecipientMap",value:function(){this.setMessageList()}},{key:"changeActiveRecipient",value:function(){var t=this;this.status=rt.loading,this.messageList=[],this.messageOpacity=0,this.headerDom&&(this.headerDom.classList.add("transition"),setTimeout((function(){t.headerDom.classList.remove("transition")}),400)),this.setMessageList()}},{key:"changeContent",value:function(t,e){var a;a=this.reloadMessage[e]&&"text"==this.reloadMessage[e].type?y["e"].getType(this.get_message_content(t,e),this):{type:"text",text:this.get_message_content(t,e)},this.$set(this.reloadMessage,e,a)}},{key:"decryptContent",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.appSync.ether.P2P.decrypt(this.get_message_content(e,a).replace("e::",""),this.appSync.userAddress);case 2:n=t.sent,this.$set(this.encryptContent,a,n);case 4:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"clickChatEncrypt",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.chatAsync.dataUploadedEventMap[this.appStorage.activeRecipientText+"publicKey"]||this.appStorage.activeRecipientText!=this.appSync.userAddress){t.next=9;break}return t.next=3,this.appSync.ether.metamask.getEncryptionPublicKeyByAddress(this.appSync.userAddress);case 3:return e=t.sent,t.next=6,this.appSync.ether.blockchat.uploadData(this.appSync.ether.blockchat.nameHash("publicKey"),e);case 6:this.$store.dispatch("chat/setDataUploadedEvent",this.appStorage.activeRecipientText),t.next=10;break;case 9:this.chatAsync.dataUploadedEventMap[this.appStorage.activeRecipientText+"publicKey"]&&this.$set(this.chatAsync.recipientMap[this.appStorage.activeRecipientText],"useEncrypt",!this.chatAsync.recipientMap[this.appStorage.activeRecipientText].useEncrypt);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"sendTransaction",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!this.appSync.ether.singer){t.next=4;break}return t.next=4,this.appSync.ether.singer.sendTransaction({to:e.contractAddress,value:0,data:e.callcode});case 4:t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](0),Object(y["d"])(t.t0),this.$message.error(t.t0.message);case 10:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"call",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var n,s,c,i,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!this.appSync.ether.provider){t.next=12;break}return t.next=4,this.appSync.ether.provider.call({to:e.contractAddress,data:e.callcode});case 4:for(n=t.sent,s=y["g"].ethers.defaultAbiCoder.decode(e.returnTypeList,n),c=[s],-1!=s.indexOf(",")&&(c=s.split(",")),i="",r=0,o=0;o<c.length;o++)-1!=e.returnTypeList[o].indexOf("int")&&(c[o]=c[o].toString().substring(0,c[o].toString().length-e.numZeroList[r]),r++),i+="".concat(e.callTextList[o]).concat(c[o]);this.$set(this.reloadMessage,a,{type:"text",text:i});case 12:t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),Object(y["d"])(t.t0),this.$message.error(t.t0.message);case 18:case"end":return t.stop()}}),t,this,[[0,14]])})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"setMessageList",value:function(){var t=this;try{var e,a=[];(e=a).push.apply(e,Object(q["a"])(this.chatAsync.recipientMap[this.appStorage.activeRecipientText].sendMessageList)),this.chatAsync.recipientMap[this.appStorage.activeRecipientText].messageBlockList.forEach((function(e){var n;(n=a).push.apply(n,Object(q["a"])(t.chatAsync.messageCreatedEventListMap[t.appStorage.activeRecipientText][e]))})),this.messageList.length!=a.length?(a=a.sort((function(t,e){return t.createDate-e.createDate})),this.messageList=a,this.checkMessageList()):0==this.messageList.length&&this.checkMessageList()}catch(n){}}},{key:"checkMessageList",value:function(){var t=this.chatAsync.recipientMap[this.appStorage.activeRecipientText].messageBlockList.length==this.chatAsync.recipientMap[this.appStorage.activeRecipientText].messageBlockListLength&&this.chatAsync.recipientMap[this.appStorage.activeRecipientText].messageBlockList.length==Object.keys(this.chatAsync.messageCreatedEventListMap[this.appStorage.activeRecipientText]).length;this.status==rt.geting?(this.scrollTo(),t&&(this.status=rt.listening)):this.status==rt.loading?(this.messageDom=document.getElementsByClassName("message-main")[0],this.messageContentDom=document.getElementsByClassName("message-content")[0],this.headerDom=document.getElementsByClassName("message-header-text")[0],this.messageDom.addEventListener("scroll",this.handleScroll),this.scrollToBottom(),t&&(this.status=rt.listening)):this.status==rt.listening&&this.messageDom.scrollTop+this.messageDom.offsetHeight+100>this.messageContentDom.scrollHeight&&this.scrollToBottom()}},{key:"handleScroll",value:function(t){t.currentTarget&&0==this.messageDom.scrollTop&&this.status==rt.listening&&(this.lastMessagePosition=this.messageContentDom.offsetHeight,this.getMessage())}},{key:"getMessage",value:function(){this.chatAsync.recipientMap[this.appStorage.activeRecipientText].messageBlockListLength>this.chatAsync.recipientMap[this.appStorage.activeRecipientText].messageBlockList.length&&(this.status=rt.geting,this.$store.dispatch("chat/getMessage"))}},{key:"scrollToBottom",value:function(){var t=this;this.$nextTick((function(){t.messageDom.scrollTop=t.messageDom.scrollHeight,t.messageOpacity=1}))}},{key:"scrollTo",value:function(){var t=this;this.$nextTick((function(){t.messageDom.scrollTop=t.messageContentDom.offsetHeight-t.lastMessagePosition}))}}]),a}(v["c"]),it);Object(h["a"])([vt.State("storage")],gt.prototype,"appStorage",void 0),Object(h["a"])([vt.State("sync")],gt.prototype,"appSync",void 0),Object(h["a"])([vt.State("async")],gt.prototype,"appAsync",void 0),Object(h["a"])([ht.State("sync")],gt.prototype,"chatSync",void 0),Object(h["a"])([ht.State("async")],gt.prototype,"chatAsync",void 0),Object(h["a"])([Object(v["d"])("chatAsync.messageCreatedEventListMap",{deep:!0})],gt.prototype,"changeMessageCreatedEventListMap",null),Object(h["a"])([Object(v["d"])("chatAsync.recipientMap",{deep:!0})],gt.prototype,"changeRecipientMap",null),Object(h["a"])([Object(v["d"])("appStorage.activeRecipientText")],gt.prototype,"changeActiveRecipient",null),gt=Object(h["a"])([Object(v["a"])({components:{MyAvatar:B,MyInput:ut}})],gt);var mt,ft=gt,yt=ft,bt=(a("f299"),Object(S["a"])(yt,z,V,!1,null,"e7344cce",null)),jt=bt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[a("div",{staticClass:"search-select"},[a("a-select",{attrs:{"show-search":"",placeholder:t.$t("search.search"),"default-active-first-option":!1,"show-arrow":!1,"filter-option":!1,"not-found-content":null},on:{search:t.handleSearch}},[t.searchData.recipientText?a("a-select-option",{attrs:{value:t.searchData.recipientText}},[a("div",{on:{click:function(e){return t.selectChat(t.searchData.recipientText)}}},[a("div",{staticClass:"avatar"},[a("my-avatar",{attrs:{avatar:t.appSync.avatarMap[t.searchData.recipientHash],showButton:!1,showName:t.searchData.recipientText}}),a("span",{staticClass:"avatar-name"},[t._v(t._s(t.searchData.text))])],1)])]):t._e()],1)],1)])},Ot=[],kt=Object(f["a"])("chat"),St=Object(f["a"])("app"),xt=(mt=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;Object(r["a"])(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return t=e.call.apply(e,[this].concat(s)),Object(d["a"])(Object(p["a"])(t),"appStorage",void 0),Object(d["a"])(Object(p["a"])(t),"appSync",void 0),Object(d["a"])(Object(p["a"])(t),"appAsync",void 0),Object(d["a"])(Object(p["a"])(t),"chatSync",void 0),Object(d["a"])(Object(p["a"])(t),"searchData",{}),t}return Object(o["a"])(a,[{key:"handleSearch",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=y["g"].ethers.isAddress(e)?y["g"].ethers.getAddress(e):this.appSync.ether.blockchat.recipientHash(e).toString(),t.next=3,this.$store.dispatch("app/setAvatar",a);case 3:return t.next=5,this.appSync.ether.blockchat.getRecipientMessageBlockListLength(a);case 5:n=t.sent,this.searchData={recipientText:e,recipientHash:a,text:"".concat(y["g"].format.string2(e,6)," ").concat(n>0?"有消息":"无消息")};case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"selectChat",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.searchData={},t.next=3,this.$store.dispatch("chat/setActiveRecipient",e);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),a}(v["c"]),mt);Object(h["a"])([St.State("storage")],xt.prototype,"appStorage",void 0),Object(h["a"])([St.State("sync")],xt.prototype,"appSync",void 0),Object(h["a"])([St.State("async")],xt.prototype,"appAsync",void 0),Object(h["a"])([kt.State("sync")],xt.prototype,"chatSync",void 0),xt=Object(h["a"])([Object(v["a"])({components:{MyAvatar:B}})],xt);var Et,Mt=xt,wt=Mt,Ct=(a("883a"),Object(S["a"])(wt,_t,Ot,!1,null,"6e1a498e",null)),At=Ct.exports,Tt=Object(f["a"])("app"),Rt=(Et=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;Object(r["a"])(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return t=e.call.apply(e,[this].concat(s)),Object(d["a"])(Object(p["a"])(t),"appStorage",void 0),Object(d["a"])(Object(p["a"])(t),"appSync",void 0),Object(d["a"])(Object(p["a"])(t),"visibleDrawer",!1),Object(d["a"])(Object(p["a"])(t),"visibleTool",!0),t}return Object(o["a"])(a,[{key:"created",value:function(){var t=this;window.addEventListener("load",Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,Object(y["d"])("window load"),e.next=4,t.$store.dispatch("app/start");case 4:if(!t.$route.query.r){e.next=7;break}return e.next=7,t.$store.dispatch("chat/setActiveRecipient",t.$route.query.r);case 7:return t.appSync.isMobile&&(t.visibleDrawer=!0,t.visibleTool=!1),e.next=10,t.$store.dispatch("chat/start");case 10:e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),Object(y["d"])(e.t0),t.$message.error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))))}},{key:"toggleDrawer",value:function(){this.visibleDrawer=!this.visibleDrawer}},{key:"toggleTool",value:function(){this.visibleTool=!this.visibleTool}}]),a}(v["c"]),Et);Object(h["a"])([Tt.State("storage")],Rt.prototype,"appStorage",void 0),Object(h["a"])([Tt.State("sync")],Rt.prototype,"appSync",void 0),Rt=Object(h["a"])([Object(v["a"])({components:{MyTool:E,MyRoom:F,MyMessage:jt,MySearch:At}})],Rt);var Lt=Rt,$t=Lt,Dt=(a("88af"),Object(S["a"])($t,s,c,!1,null,"8bd983cc",null));e["default"]=Dt.exports},"9fcf":function(t,e,a){"use strict";var n=a("a46c"),s=a.n(n);s.a},a3d5:function(t,e,a){"use strict";var n=a("feb3"),s=a.n(n);s.a},a46c:function(t,e,a){},a76c:function(t,e,a){"use strict";var n=a("9d16"),s=a.n(n);s.a},bf03:function(t,e,a){},c8d2:function(t,e,a){var n=a("d039"),s=a("5899"),c="​᠎";t.exports=function(t){return n((function(){return!!s[t]()||c[t]()!=c||s[t].name!==t}))}},f299:function(t,e,a){"use strict";var n=a("834e"),s=a.n(n);s.a},feb3:function(t,e,a){}}]);